<!--
    --------------------------------------------------------------------------------------------------------
    This page handles all the UI for the display of notification record for pepper collections.
    --------------------------------------------------------------------------------------------------------
    Created Date: 25-NOV-2016    Created By: Pawan Mudgal   Email: pawan.mudgal@saasfocus.com
    --------------------------------------------------------------------------------------------------------
-->
<apex:page id="Page" controller="ScCollection_ViewNotificationController" showHeader="false" sidebar="false" standardStylesheets="true" docType="html-5.0" applyBodyTag="false" applyHtmlTag="false">
    <html>
        <head> 
            <meta charset="utf-8" />
            <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
            <apex:includeScript value="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"/>
            <apex:includeScript value="{!URLFOR($Resource.bootstrap, 'js/bootstrap.min.js')}" />
            <apex:includeScript value="/support/console/34.0/integration.js" />
            <apex:includeScript value="{!URLFOR($Resource.scCollectionConsoleResources, 'js/modernizr-custom.js')}" />
            
            <apex:stylesheet value="{!URLFOR($Resource.bootstrap,'css/bootstrap-theme.css')}"/>
            <apex:stylesheet value="{!URLFOR($Resource.bootstrap,'css/bootstrap.css')}"/>
            <apex:stylesheet value="{!URLFOR($Resource.scCollectionConsoleResources,'css/bootstrap.min.css')}" />
            <apex:stylesheet value="{!URLFOR($Resource.scCollectionConsoleResources,'css/font-awesome.css')}" />
            <apex:stylesheet value="{!URLFOR($Resource.scCollectionConsoleResources,'css/component.css')}" />
            
            <script type="text/javascript">
                jQuery(document).ready(function()
                {
                    
                });

                function OpenLetterUrl(url)
                {
                    window.open(url,'','','');
                }
            </script>
            <style>
     
            </style>
        </head>
        <body>
            <section id="main-section">
                <div class="container-fluid">
                    <aside id="center_panel" class="col-md-12 col-sm-12" style="padding:0px;">
                                
                        <section class="cstm-form clearfix">
                            <fieldset>
                                <legend>Notification Details</legend>
                                <div class="col-md-6 col-sm-6 iframe-sm-6 form-group">
                                    <label style="display:block;">Notification Type</label>
                                    {!IF(objnotification.ScCollection_Is_Manual__c == true,'Manual','Automated')} {!objnotification.ScCollection_Communication_Type_Formula__c}
                                </div>
                                <div class="col-md-6 col-sm-6 iframe-sm-6 form-group">
                                    <label style="display:block;">Sent</label>
                                    <apex:image value="{!IF(objnotification.cnotify__Sent__c == true,URLFOR($Resource.scCollectionConsoleResources, 'images/kept.png'),URLFOR($Resource.scCollectionConsoleResources, 'images/broken.png'))}"/>
                                </div>
                                <div class="clearfix"></div>
                                <div class="col-md-6 col-sm-6 iframe-sm-6 form-group">
                                    <label style="display:block;">Send To</label>
                                    <apex:outputField value="{!objnotification.ScCollection_Send_To__c}"/>
                                </div>
                                <div class="col-md-6 col-sm-6 iframe-sm-6 form-group">
                                    <label style="display:block;">Send Date</label>
                                    <apex:outputField value="{!objnotification.cnotify__Sent_Date__c}" />
                                </div>
                                <div class="clearfix"></div>
                                <apex:outputPanel rendered="{!If(objnotification.ScCollection_Communication_Type_Formula__c == 'Letter',true,false)}">
                                    <div class="col-md-12 col-sm-12 iframe-sm-12 form-group">
                                        <label style="display:block;">Letter Name</label>
                                        <apex:outputField value="{!objnotification.cnotify__Subject__c}" />
                                    </div>
                                    <div class="clearfix"></div>
                                </apex:outputPanel>
                                <div class="col-md-12 col-sm-12 iframe-sm-12 form-group">
                                    <label style="display:block;">{!If(objnotification.ScCollection_Communication_Type_Formula__c == 'Letter','Url','Message')}</label>
                                    <apex:outputField value="{!objnotification.cnotify__Message__c}" rendered="{!If(objnotification.ScCollection_Communication_Type_Formula__c == 'Letter',false,true)}"/>
                                    
                                    <apex:outputPanel rendered="{!If(objnotification.ScCollection_Communication_Type_Formula__c == 'Letter' && objnotification.ScCollection_Letter_URL__c != null,true,false)}">
                                        <!--<apex:outputLink value="{!objnotification.ScCollection_Letter_URL__c}" target="_blank">Download</apex:outputLink>-->
                                        
                                        <span style="display:{!IF(objnotification.ScCollection_Communication_Type_Formula__c == 'Letter','block','none')};cursor:pointer; color:#337ab7;" onclick="OpenLetterUrl('{!objnotification.ScCollection_Letter_URL__c}');" title="{!If(LEN(objnotification.ScCollection_Letter_URL__c) > 22,objnotification.ScCollection_Letter_URL__c,'')}">Download</span>
                                    </apex:outputPanel>
                                </div>
                                <div class="clearfix"></div>
                                <apex:outputPanel rendered="{!If(objnotification.ScCollection_Communication_Type_Formula__c == 'Letter',false,true)}">
                                    <div class="col-md-12 col-sm-12 iframe-sm-12 form-group">
                                        <label style="display:block;">Error Message</label>
                                        <apex:outputField value="{!objnotification.cnotify__Error_Message__c}" />
                                    </div>
                                    <div class="clearfix"></div>
                                </apex:outputPanel>
                                
                            </fieldset>
                        </section>                           
                    </aside>
                </div>
            </section>
        </body>
    </html>
    <script>
        function srcUp(url){
            window.open(url);
        }
    </script>
</apex:page>